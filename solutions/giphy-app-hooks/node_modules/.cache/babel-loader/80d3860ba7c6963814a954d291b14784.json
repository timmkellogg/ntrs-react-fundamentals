{"ast":null,"code":"var _jsxFileName = \"/Users/timothy-kellogg/courseware/shared/ntrs-react-fundamentals/solutions/giphy-app-hooks/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/authContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_KEY = '';\nfunction HomePage() {\n  _s();\n  const [gifs, setGifs] = useState([]);\n  const auth = useAuth();\n  useEffect(() => {\n    axios.get(`https://api.giphy.com/v1/gifs/trending?api_key=${API_KEY}&rating=g`).then(response => {\n      setGifs(response.data.data);\n    });\n  }, []);\n  const handleSave = url => {\n    const saved = JSON.parse(localStorage.getItem('gifs')) || [];\n\n    //stop repeat gifs\n    if (saved.includes(url)) return;\n    localStorage.setItem('gifs', JSON.stringify([...saved, url]));\n    alert('gif saved');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Trending Gifs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: gifs.map((gif, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: gif.images.original.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 29\n          }, this), auth.user && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSave(gif.images.original.url),\n            children: \"save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 43\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}\n_s(HomePage, \"Md7MxZIxRT4RVehHHusAt/iA94g=\", false, function () {\n  return [useAuth];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["useState","useEffect","axios","useAuth","API_KEY","HomePage","gifs","setGifs","auth","get","then","response","data","handleSave","url","saved","JSON","parse","localStorage","getItem","includes","setItem","stringify","alert","map","gif","index","images","original","user"],"sources":["/Users/timothy-kellogg/courseware/shared/ntrs-react-fundamentals/solutions/giphy-app-hooks/src/pages/HomePage.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useAuth } from '../contexts/authContext'\n\nconst API_KEY = ''\n\nfunction HomePage() {\n    const [ gifs, setGifs] = useState([])\n\n    const auth = useAuth()\n\n    useEffect(() => {\n        axios.get(`https://api.giphy.com/v1/gifs/trending?api_key=${API_KEY}&rating=g`)\n            .then((response) => {\n                setGifs(response.data.data)\n            })\n    }, [])\n\n    const handleSave = (url) => {\n        const saved = JSON.parse(localStorage.getItem('gifs')) || []\n\n        //stop repeat gifs\n        if(saved.includes(url)) return\n\n        localStorage.setItem('gifs', JSON.stringify([...saved, url]))\n\n        alert('gif saved')\n    }\n\n    return (\n        <div>\n            <h1>Trending Gifs</h1>\n            <>\n                {gifs.map((gif, index) => {\n                    return (\n                        <div key={index}>\n                            <img src={gif.images.original.url} />\n                            {auth.user && <button onClick={() => handleSave(gif.images.original.url)}>save</button>}\n                        </div>\n                    )\n                })}\n            </>\n        </div>\n    )\n\n}\n\nexport default HomePage"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,yBAAyB;AAAA;AAAA;AAEjD,MAAMC,OAAO,GAAG,EAAE;AAElB,SAASC,QAAQ,GAAG;EAAA;EAChB,MAAM,CAAEC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAErC,MAAMQ,IAAI,GAAGL,OAAO,EAAE;EAEtBF,SAAS,CAAC,MAAM;IACZC,KAAK,CAACO,GAAG,CAAE,kDAAiDL,OAAQ,WAAU,CAAC,CAC1EM,IAAI,CAAEC,QAAQ,IAAK;MAChBJ,OAAO,CAACI,QAAQ,CAACC,IAAI,CAACA,IAAI,CAAC;IAC/B,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,UAAU,GAAIC,GAAG,IAAK;IACxB,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;;IAE5D;IACA,IAAGJ,KAAK,CAACK,QAAQ,CAACN,GAAG,CAAC,EAAE;IAExBI,YAAY,CAACG,OAAO,CAAC,MAAM,EAAEL,IAAI,CAACM,SAAS,CAAC,CAAC,GAAGP,KAAK,EAAED,GAAG,CAAC,CAAC,CAAC;IAE7DS,KAAK,CAAC,WAAW,CAAC;EACtB,CAAC;EAED,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAsB,eACtB;MAAA,UACKjB,IAAI,CAACkB,GAAG,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;QACtB,oBACI;UAAA,wBACI;YAAK,GAAG,EAAED,GAAG,CAACE,MAAM,CAACC,QAAQ,CAACd;UAAI;YAAA;YAAA;YAAA;UAAA,QAAG,EACpCN,IAAI,CAACqB,IAAI,iBAAI;YAAQ,OAAO,EAAE,MAAMhB,UAAU,CAACY,GAAG,CAACE,MAAM,CAACC,QAAQ,CAACd,GAAG,CAAE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAc;QAAA,GAFjFY,KAAK;UAAA;UAAA;UAAA;QAAA,QAGT;MAEd,CAAC;IAAC,iBACH;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAGd;AAAC,GAvCQrB,QAAQ;EAAA,QAGAF,OAAO;AAAA;AAAA,KAHfE,QAAQ;AAyCjB,eAAeA,QAAQ;AAAA;AAAA"},"metadata":{},"sourceType":"module"}